以太坊靠3棵树来维护，整个链上数据的正确性。

## 状态树

存储内容

- 外部账户。记录了 地址，余额，交易计数器（nonce）
- 合约账户。记录了 地址，余额，交易计数器（nonce），合约代码哈希（codeHash），存储根（storageRoot，指向合约存储的 MPT 的根哈希）



key 账户地址，value 是根据账户的类型，存储不同的数据。



状态是是全局共享的，每个区块的状态是，都是在前一个区块的状态树上增量更新。每个区块头，包含当前状态树的根哈希，用于快速验证节点数据的完整性。

## 交易树

存储内容

- 交易数据。发送者（from），接受者（to），金额（value），输入数据（data），gas 等
- 交易签名。发送者私钥签名。



key 存的交易在本区块内的索引，value 是交易的 RLP 编码数据。也有个根哈希值，确保交易内容不可篡改。



## 收据树

存储内容

- 状态码：交易是否成功（status， 1为成功，0为失败）。
- gas used
- 日志（log）：对事件触发的日志。
- Bloom 过滤器。快速检索日志的位向量（压缩存储日志 topic 特征）

 

按交易顺序索引，每个交易对应一个收据。

key 存的是交易在本区块内的索引，value 是 RLP 编码的数据。



