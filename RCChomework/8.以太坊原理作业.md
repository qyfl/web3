### 什么是以太坊？

一个区块链系统，支持智能合约。可以在这个系统上开发各种应用（DApp）和生态（如DeFi）。



### 以太坊的概念是由谁首次提出的，并在何时？

V神在 2013年提出，2015年落地。





### 以太坊的首个公开发布是在什么时候，哪里进行的？

2014年1月，在迈阿密。



### "The DAO"是什么，以及它如何影响以太坊？

一个分布式自治的组织。本来想在以太坊上做 DeFi，但是因为他们的智能合约写的有漏洞导致当时以太坊上大概  14% 的以太币被盗。从而导致了一次硬分叉。ETH 分为 ETH 和 ETC。





### 以太坊进行硬分叉的目的是什么？

找回被盗的资金。





### 什么是企业以太坊联盟（EEA），它成立于何时？

2017年3月。



### 以太坊 2.0 与以太坊 1.0 有何不同？

共识机制的更改。从 POW 改成 POS。



### Metamask 插件的主要功能是什么？

管理各种加密货币的钱包，可以交易，可以用来发布智能合约。



### 在以太坊中，'gas'的概念是用来做什么的？

因为以太坊支持智能合约，防止智能合约被无限期的执行下去，也是为了个给执行智能合约的节点奖励。所以交易发布者需要付一些以太坊作为 gas。



### 什么是智能合约？

一段由 solidity 编写的代码。可以部署在以太坊网络上。一旦部署，不能被修改。



### 如何在以太坊上创建一个账户？

可以通过各种钱包来创建，例如 metamask。还可以通过交易所来创建。





### 以太坊的挖矿机制是如何工作的？

POW 阶段也是计算数学题。

POS 阶段是用手里的以太坊来投票。



### 描述以太坊交易的基本组成部分。

消息接收人，用私钥的签名，以太币的数量，数据部分是不是智能合约。愿意付多少 gas 等等。



### 什么是以太坊虚拟机（EVM）？

运行 solidity 的环境。



### 以太坊的区块结构包括哪些部分？

区块头和区块体

区块头中有上一个区块的哈希值，MPT 树的哈希值，gasLimit，挖出区块的时间，当前区块编号等等信息。

区块体中有交易数据和叔区块的块头。



### 以太坊数据层的主要功能是什么？

以太坊使用 MPT来存储和管理交易信息。



### 以太坊中有哪两种类型的账户？

外部账户和合约账户。

合约账户不能发起交易。

合约账户就是一段正在运行的 solidity 代码。



### 以太坊如何防止外部账户的重复支付问题？

每交易一次， nonce 这个字段就 +1。保证了账户的每笔交易都是唯一的。



### 描述以太坊的合约账户如何被创建？



由个人账户往区块链上发布一个智能合约，支付一定的 gas 费用。合约账户就产生了。合约账户不受私钥管理，收发布者管理。





### 以太坊中交易的两大类别是什么？

消息通信和创建合约。

都是由外部账户发起，提交到以太坊网络中。



### 以太坊是如何实现交易签名和验证的？

1. 对消息进行 Keccak256 哈希计算
2. 使用私钥对哈希结果进行 ECDSA 签名

在交易的数据结构上，添加链标识符。从而保证交易不能被重放。



### 以太坊区块的封印（Seal）过程包括哪些关键步骤？

第一阶段先创建出完整的新区块，其中包括区块头部分属性、交易列表、uncle区块等，并且所有交易已经执行完毕， 所有收据也收集完毕，各账号状态更新完毕。只等第二阶段的封印结果返回，就可以填充区块头中剩余的部分属性，如Difficulty、Nonce、MixHash等。 封印完成后，区块可以被广播给其他节点。封印阶段消耗的计算资源远超创建阶段。



### 以太坊如何处理网络中同时产生的多个区块？

1. 选择难度最高的作为主链。
2. uncle 节点中的交易，可以被后续节点打包进去。打包节点和挖掘节点分别都会有一定的奖励。





### 描述以太坊 P2P 网络中的 Kademlia（Kad）协议的基本工作原理？

kad 用来测量节点直接的距离。并且维护一个路由表来实现节点的查找和资源定位。

节点向距离目标节点最近的其他节点发送请求，来查询目标节点的数据。



### 以太坊节点如何实现数据的存储和检索？

以太坊存储分为状态存储和事件存储。

状态存储是把数据存储在 MPT 中，事件存储是把智能合约内部的事件存储到日志中。

本地节点数据存储完毕，将副本发送给距离数据健最近的几个节点上。

